# 隐式类型转换

- JavaScript 中的隐式类型转换是指在运行时，JavaScript 引擎会自动将一个数据类型转换为另一个数据类型，这种转换是由 JavaScript 引擎自动完成的，不需要我们手动操作。

- ToPrimitive(obj,type)
    - JavaScript 中每个值隐含的自带的方法，用来将值 （无论是基本类型值还是对象）转换为基本类型值。
    - 参数
        - obj 需要转换的对象
        - type 期望的结果类型
    - 逻辑
        - 如果obj值为基本类型，则直接返回值本身
        - 如果obj值为对象
            - 当type为number时
                - 调用obj的valueOf方法，如果为原始值，则返回，否则下一步；
                - 调用obj的toString方法，如果为原始值，则返回，否则下一步；
                - 抛出TypeError 异常。
            - 当type为string时
                - 调用obj的toString方法，如果为原始值，则返回，否则下一步；
                - 调用obj的valueOf方法，如果为原始值，则返回，否则下一步；
                - 抛出TypeError 异常。

- 运算符 `+`、`-`、`*`、`/`、`==`、`>`、`<`、
    - 这些运算符只能操作基本类型值，所以在运算前先用ToPrimitive转换成基本类型，再进行操作。
    - 隐式转换的规则
        - `+`
            - 两边至少有一个 string 时，两边的变量都会被隐式转换为字符串
            - 其他情况下两边的变量都会被转换为数字
        - `-`、`*`、`/`
            - 如果两边的值都是数字，则进行相应的运算
            - 如果两边的值有一个不是数字，则将两边的值都转换为数字，再进行相应的运算
        - `==`、`>`、`<`
            - 如果两边的值类型相同，则直接进行比较
            - 如果两边的值类型不同，则将两边的值都转换为数字，再进行比较
        - `===`
            - 如果两边的值类型相同，则直接进行比较
            - 如果两边的值类型不同，则直接返回 false
        - `!!`
            - 将值转换为布尔值
