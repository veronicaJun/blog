# 304缓存的原理

- Etag
    1. 当你第一次发起HTTP请求时，服务器会返回一个Etag。
    2. 并在你第二次发起同一个请求时，客户端会同时发送一个If-None-Match，而它的值就是Etag的值（此处由发起请求的客户端来设置）。然后，服务器会比对这个客服端发送过来的Etag是否与服务器的相同，
    3. 如果相同，就将If-None-Match的值设为false，返回状态为304，客户端继续使用本地缓存，不解析服务器返回的数据

- Last-modified
    1. 客户端第一次请求，请求头啥也没有，服务器返回一个响应头含有最后修改时间Last-modified，状态码200。
    2. 客户端第二次请求，携带第一次的返回的最后修改时间If-Modified-Since。服务器拿到后对比文件的最后更新时间，一样就返回304，浏览器就会使用本地缓存。
    3. 如果文件被修改，客户端再次请求的时候获取到最新的时间，并且返回新的资源，不会使用本地缓存。
